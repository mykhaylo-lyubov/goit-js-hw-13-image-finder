{"version":3,"sources":["webpack:///./templates-handlebars/listMarkup.hbs","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/modal-show.js","webpack:///./js/notification.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","gallery","document","querySelector","form","loadMoreBtn","axios","defaults","baseURL","getRequest","searchQuery","pageNumber","get","console","log","modalShow","refs","addEventListener","event","basicLightbox","target","dataset","largeImageUrl","show","delay","info","debouncedInputCallback","debounce","innerHTML","value","then","observedEl","observer","total","hits","insertAdjacentHTML","listMarkup","querySelectorAll","IntersectionObserver","entries","options","forEach","entry","isIntersecting","rootMargin","el","observe","text"],"mappings":"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","file":"main.1a16bcfcbcfa0772aa00.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li>\\n    <div class=\\\"photo-card\\\">\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" data-lazy=\\\"\\\" data-large-image-url=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":71},\"end\":{\"line\":4,\"column\":88}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":95},\"end\":{\"line\":4,\"column\":103}}}) : helper)))\n    + \"\\\" width=\\\"320px\\\"\\n            height=\\\"240px\\\">\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item thumb\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":9,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item visibility\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":13,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item comment\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":16},\"end\":{\"line\":17,\"column\":28}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item download\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":21,\"column\":29}}}) : helper)))\n    + \"\\n            </p>\\n        </div>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default {\n  gallery: document.querySelector('.js-gallery'),\n  form: document.querySelector('#search-form'),\n  loadMoreBtn: document.querySelector('#load-more-button'),\n};\n","import axios from 'axios';\n// import './eventListener';\n\nconst API_KEY = '19860281-90612ce799b065a61c0a9e7bf';\nconst itemsPerPage = 12;\n\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\n// function getRequest(searchQuery, pageNumber) {\n//   if (searchQuery === '') {\n//     return;\n//   }\n//   return axios\n//     .get(\n//       `&key=${API_KEY}&q=${searchQuery}&page=${pageNumber}&per_page=${itemsPerPage}`,\n//     )\n//     .catch(error => console.log(error));\n// }\n\nconst getRequest = async (searchQuery, pageNumber) => {\n  try {\n    if (searchQuery === '') {\n      return;\n    }\n    return await axios.get(\n      `&key=${API_KEY}&q=${searchQuery}&page=${pageNumber}&per_page=${itemsPerPage}`,\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default getRequest;\n","import * as basicLightbox from 'basiclightbox';\nimport refs from '../js/refs';\n\nfunction modalShow() {\n  refs.gallery.addEventListener('click', event => {\n    const instance = basicLightbox.create(\n      `<img src=\"${event.target.dataset.largeImageUrl}\">`,\n    );\n    instance.show();\n  });\n}\n\nexport default modalShow;\n","import { info } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport '@pnotify/core/dist/PNotify.css';\nimport { defaults } from '@pnotify/core';\ndefaults.delay = 1500;\n\nexport default info;\n","import './styles.css';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\n\nimport refs from './js/refs';\n\nimport debounce from 'lodash.debounce';\nimport getRequest from './js/apiService';\nimport listMarkup from './templates-handlebars/listMarkup.hbs';\nimport modalShow from './js/modal-show';\nimport info from './js/notification';\n\nlet pageNumber = null;\nlet searchQuery = null;\n\nconst debouncedInputCallback = debounce(event => {\n  refs.gallery.innerHTML = '';\n  pageNumber = 1;\n  searchQuery = event.target.value;\n  if (!searchQuery) {\n    return;\n  }\n\n  requestImages();\n  return searchQuery;\n}, 500);\n\nfunction requestImages() {\n  getRequest(searchQuery, pageNumber).then(({ data: { total, hits } }) => {\n    refs.gallery.insertAdjacentHTML('beforeend', listMarkup(hits));\n    modalShow();\n\n    if (total === 0) {\n      info({ text: 'No any pictures was found according to your request' });\n      return;\n    }\n\n    observation();\n\n    info({ text: `Was found ${total} pictures` });\n  });\n}\n\nfunction observation() {\n  const observedEl = document.querySelectorAll('.io');\n\n  const options = {\n    rootMargin: '200px',\n  };\n  const onEntries = (entries, options) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        loadExtraPictures();\n      }\n    });\n  };\n  const observer = new IntersectionObserver(onEntries, options);\n  observedEl.forEach(el => observer.observe(el));\n}\n\nfunction loadExtraPictures() {\n  pageNumber += 1;\n  getRequest(searchQuery, pageNumber).then(({ data: { hits } }) => {\n    refs.gallery.insertAdjacentHTML('beforeend', listMarkup(hits));\n  });\n}\n\nrefs.form.addEventListener('input', debouncedInputCallback);\n"],"sourceRoot":""}